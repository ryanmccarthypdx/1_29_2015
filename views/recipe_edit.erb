<h1><%= @recipe_name %> Recipe</h1>

<% if @recipe_ingredients.!=(nil) %>
  <h4> The Ingredient List: </h4>
  <ul>
    <% @recipe_ingredients.each() do |recipe_ingredient| %>
      <li> <%= recipe_ingredient.name() %></li>
    <% end %>
  </ul>
<% else %>
  <h4> You don't have any ingredients listed for this recipe yet, fool.</h4>
<% end %>

<form action="/ingredient_add" method="post">
  <input type="hidden" name="recipe_id" value="<%= @recipe_id %>">
  <input type="hidden" name="recipe_name" value="<%= @recipe_name %>">
  <label for='ingredient_id'>Choose an exisiting ingredient:</label>
  <select id='ingredient_id' name='ingredient_id' type='text'>
    <option value="" selected disabled>Please select</option>
    <% @list_of_ingredients.each() do |ingredient| %>
    <option value="<%= ingredient.id()%>"> <%= ingredient.name() %> </option>
    <% end %>
  </select>
  <br>
  <label for='new_ingredient_name'>...or add a new one:</label>
  <input id='new_ingredient_name' name='new_ingredient_name' type='text' placeholder='carrot'>
  <br>
  <button type='submit' class='btn btn-primary'>Add ingredient</button>
</form>

<% if @recipe_categories.!=(nil) %>
<h4> You have categorized this recipe as: </h4>
<ul>
  <% @recipe_categories.each() do |recipe_category| %>
  <li> <%= recipe_category.name() %></li>
  <% end %>
</ul>
<% else %>
<h4> You have not categorized this recipe yet.  DO SO IMMEDIATELY!</h4>
<% end %>

<h5>How to categorize this recipe?</h5>
<form action="/category_add" method="post">
  <input type="hidden" name="recipe_id" value="<%= @recipe_id %>">
  <input type="hidden" name="recipe_name" value="<%= @recipe_name %>">
  <label for='category_id'>Choose an exisiting category:</label>
  <select id='category_id' name='category_id' type='text'>
    <option value="" selected disabled>Please select</option>
    <% @list_of_categories.each() do |category| %>
    <option value="<%= category.id()%>"> <%= category.name() %> </option>
    <% end %>
  </select>
  <br>
  <label for='new_category_name'>...or add a new one:</label>
  <input id='new_category_name' name='new_category_name' type='text' placeholder='Vegetarian'>
  <br>
  <button type='submit' class='btn btn-primary'>Add category</button>
</form>
